:root {
    --color-surface-base: #eef3f8;
    --color-surface-elevated: #ffffff;
    --color-surface-panel: #ffffff;
    --color-surface-subtle: #f7fbff;
    --color-surface-muted: #f2f7fc;
    --color-border-subtle: #d7e2ef;
    --color-border-strong: #bdc7d6;
    --color-text-primary: #0f1f35;
    --color-text-secondary: #58708f;
    --color-text-inverse: #ffffff;
    --color-accent-primary: #0ea5b7;
    --color-accent-primary-strong: #0a6f7b;
    --color-accent-primary-soft: rgba(14, 165, 183, 0.14);
    --color-state-success: #22c55e;
    --color-state-warning: #f59e0b;
    --color-state-danger: #ef4444;
    --color-accent-secondary-soft: rgba(11, 126, 149, 0.1);
    --color-ink-strong: #111827;
    --color-ink-mid: #374151;
    --color-ink-soft: #4b5563;
    --color-outline-subtle: #9ca3af;
    --color-outline-faint: #d1d5db;
    --color-brown-accent: saddlebrown;

    --color-pipe-tubing: #0f766e;
    --color-pipe-tubing-stroke: #052e2b;
    --color-pipe-drillstring: #b45309;
    --color-pipe-drillstring-stroke: #7c2d12;
    --color-pipe-fallback: #64748b;
    --color-default-line: #636efa;
    --color-default-box: #b3cde3;
    --color-default-fluid-stroke: #6b7280;
    --color-default-hatch: #cbd5e1;
    --color-physics-debug-line: #d946ef;
    --color-physics-debug-fill: #a21caf;
    --color-user-editor-border: #2f6fdd;
    --color-user-editor-focus: rgba(47, 111, 221, 0.18);
    --color-user-editor-danger: #b91c1c;
    --color-user-editor-danger-border: rgba(185, 28, 28, 0.3);
    --color-user-editor-danger-bg: rgba(185, 28, 28, 0.08);
    --color-user-annotation-label-fill: rgba(255, 255, 255, 0.88);
    --color-user-annotation-label-fill-selected: rgba(255, 255, 255, 0.95);
    --color-user-annotation-toolbar-bg: rgba(255, 255, 255, 0.97);

    --color-table-required-bg: #fff7ed;
    --color-table-computed-bg: #f3f6fa;

    --color-depth-axis-line: #b3a999;
    --color-depth-axis-text: #7a6f60;

    --color-alert-base-text: #1f2937;
    --color-alert-close-hover: rgba(17, 24, 39, 0.08);
    --color-alert-success-bg: #ecfdf5;
    --color-alert-success-border: #a7f3d0;
    --color-alert-success-text: #065f46;
    --color-alert-info-bg: #eff6ff;
    --color-alert-info-border: #bfdbfe;
    --color-alert-info-text: #1e3a8a;
    --color-alert-warning-bg: #fffbeb;
    --color-alert-warning-border: #fde68a;
    --color-alert-warning-text: #92400e;
    --color-alert-danger-bg: #fef2f2;
    --color-alert-danger-border: #fecaca;
    --color-alert-danger-text: #991b1b;
    --color-alert-dark-text: #dbe4f0;
    --color-alert-dark-close-hover: rgba(148, 163, 184, 0.18);

    --color-swatch-border: #cbd5f5;
    --color-info-box-text: #7c2d12;
    --color-control-rule: #e5dccf;

    --color-plot-radial-a: rgba(14, 165, 183, 0.16);
    --color-plot-radial-b: rgba(11, 126, 149, 0.14);
    --color-plot-surface-start: #f9fcff;
    --color-plot-surface-end: #edf7ff;
    --color-plot-focus-ring: rgba(14, 165, 183, 0.55);
    --color-cursor-primary: #0f766e;
    --color-cursor-primary-fill: rgba(15, 118, 110, 0.9);
    --color-cursor-primary-stroke: rgba(13, 89, 84, 0.9);
    --color-cursor-anchor: #b91c1c;
    --color-cursor-anchor-fill: rgba(185, 28, 28, 0.9);
    --color-cursor-anchor-stroke: rgba(127, 29, 29, 0.95);
    --color-cursor-label-text: #ffffff;
    --color-magnifier-glass: #ffffff;
    --color-magnifier-frame-stroke: rgba(17, 24, 39, 0.9);
    --color-topology-overlay-active-fill: rgba(240, 228, 66, 0.24);
    --color-topology-overlay-active-stroke: rgba(166, 142, 14, 0.9);
    --color-topology-overlay-path-fill: rgba(230, 159, 0, 0.24);
    --color-topology-overlay-path-stroke: rgba(181, 114, 0, 0.9);
    --color-topology-overlay-spof-fill: rgba(204, 121, 167, 0.24);
    --color-topology-overlay-spof-stroke: rgba(151, 78, 121, 0.9);
    --color-topology-overlay-selected-fill: rgba(0, 114, 178, 0.24);
    --color-topology-overlay-selected-stroke: rgba(0, 78, 122, 0.95);
    --color-topology-legend-active: rgba(240, 228, 66, 0.45);
    --color-topology-legend-path: rgba(230, 159, 0, 0.45);
    --color-topology-legend-spof: rgba(204, 121, 167, 0.45);
    --color-topology-legend-selected: rgba(0, 114, 178, 0.45);

    --color-tooltip-bg: rgba(17, 24, 39, 0.96);
    --color-tooltip-text: #f8fafc;
    --color-tooltip-border: rgba(148, 163, 184, 0.45);
    --color-tooltip-swatch-border: rgba(248, 250, 252, 0.7);
    --shadow-tooltip: 0 8px 26px rgba(15, 23, 42, 0.35);

    --color-cross-bg-start: #f9fcff;
    --color-cross-bg-end: #eaf5ff;
    --color-cross-core-fill: #ffffff;
    --color-cross-core-stroke: #9ca3af;
    --color-cross-annulus-fill: #edf2f7;
    --color-cross-annulus-stroke: #8c99a8;
    --color-cross-steel-stroke: #111827;
    --color-cross-mid-stroke: #4b5563;
    --color-cross-empty-fill: #fafaf9;
    --color-cross-empty-stroke: #e5e7eb;
    --color-cross-label-line: #4b5563;
    --color-cross-label-box-fill: rgba(255, 255, 255, 0.88);
    --color-cross-label-box-stroke: #d1d5db;
    --color-cross-label-text: #111827;
    --color-cross-panel-depth: #374151;
    --color-cross-panel-range: #6b7280;
    --color-cross-marker-default: #111827;
    --color-cross-marker-stroke: #111827;
    --shadow-canvas-toolbar: 0 10px 24px rgba(15, 23, 42, 0.16);
    --shadow-user-editor: 0 8px 18px rgba(15, 23, 42, 0.14);

    --color-interval-filter-label: #4b5563;
    --color-interval-chip-border: #cbd5e1;
    --color-interval-chip-bg: #f8fafc;
    --color-interval-chip-text: #334155;
    --color-interval-chip-hover-bg: #f1f5f9;
    --color-interval-chip-active-border: #2563eb;
    --color-interval-chip-active-bg: #dbeafe;
    --color-interval-chip-active-text: #1d4ed8;
    --color-interval-table-wrap-bg: #ffffff;
    --color-interval-table-head-bg: #f2f7fc;
    --color-interval-table-head-text: #243b53;
    --color-interval-table-row-bg: #ffffff;
    --color-interval-table-row-even-bg: #f8fbff;
    --color-interval-table-row-hover-bg: #edf5ff;
    --color-interval-table-border: #cbd5e1;
    --color-interval-table-border-soft: #e2e8f0;
    --color-interval-table-sticky-bg: #e9f2fa;
    --color-interval-reason-chip-bg: #e5e7eb;
    --color-interval-reason-chip-text: #1f2937;
    --color-interval-reason-text: #334155;
    --color-interval-reason-fluid-bg: #dbeafe;
    --color-interval-reason-fluid-text: #1e3a8a;
    --color-interval-reason-cement-bg: #fef3c7;
    --color-interval-reason-cement-text: #92400e;
    --color-interval-reason-marker-bg: #fee2e2;
    --color-interval-reason-marker-text: #991b1b;
    --color-interval-reason-structure-bg: #dcfce7;
    --color-interval-reason-structure-text: #166534;
    --color-interval-reason-model-bg: #ede9fe;
    --color-interval-reason-model-text: #5b21b6;
    --color-interval-reason-depth-bg: #e5e7eb;
    --color-interval-reason-depth-text: #111827;

    --spacing-2xs: 2px;
    --spacing-xs: 4px;
    --spacing-sm: 8px;
    --spacing-md: 12px;
    --spacing-lg: 16px;
    --spacing-xl: 20px;
    --spacing-2xl: 24px;

    --radius-sm: 8px;
    --radius-md: 12px;
    --radius-lg: 18px;
    --radius-pill: 999px;

    --shadow-soft: 0 8px 20px rgba(15, 30, 60, 0.08);
    --shadow-md: 0 16px 34px rgba(15, 30, 60, 0.12);
    --shadow-alert-dark: 0 10px 26px rgba(2, 6, 23, 0.45);

    --font-family-sans: "Inter", "Segoe UI", system-ui, -apple-system, sans-serif;
    --font-family-display: "Space Grotesk", "IBM Plex Sans", sans-serif;

    --control-height-sm: 30px;
    --control-height-md: 34px;
    --control-radius: 10px;
    --control-font-size: 0.86rem;
    --control-padding-x: 0.58rem;
    --control-padding-y: 0.28rem;
    --control-gap: 0.42rem;
    --control-border-color: var(--color-border-subtle);
    --control-border-color-hover: var(--color-border-strong);
    --control-focus-ring: 0 0 0 3px color-mix(in srgb, var(--color-accent-primary) 20%, transparent);
    --overlay-shadow: 0 14px 32px rgba(15, 30, 60, 0.14);
    --overlay-border-color: color-mix(in srgb, var(--line) 92%, transparent);

    --bg: var(--color-surface-base);
    --bg-elev: var(--color-surface-elevated);
    --bg-panel: var(--color-surface-panel);
    --ink: var(--color-text-primary);
    --muted: var(--color-text-secondary);
    --line: var(--color-border-subtle);
    --ok: var(--color-state-success);
    --warn: var(--color-state-warning);
    --critical: var(--color-state-danger);
    --shadow: var(--shadow-md);
}

:root.app-dark {
    --color-surface-base: #0a131c;
    --color-surface-elevated: #101b28;
    --color-surface-panel: #152131;
    --color-surface-subtle: #0f1a27;
    --color-surface-muted: #1b2a3f;
    --color-border-subtle: #2a3a52;
    --color-border-strong: #3a4f6a;
    --color-text-primary: #e7eef7;
    --color-text-secondary: #9eb1c9;
    --color-text-inverse: #0f172a;
    --color-accent-primary: #38bdf8;
    --color-accent-primary-strong: #7dd3fc;
    --color-accent-primary-soft: rgba(56, 189, 248, 0.2);
    --color-accent-secondary-soft: rgba(34, 197, 94, 0.14);

    --color-table-required-bg: color-mix(in srgb, #f59e0b 24%, #101b28);
    --color-table-computed-bg: color-mix(in srgb, #38bdf8 18%, #101b28);

    --color-depth-axis-line: #7f93ad;
    --color-depth-axis-text: #a8b8cd;

    --color-alert-base-text: var(--color-alert-dark-text);
    --color-alert-close-hover: var(--color-alert-dark-close-hover);
    --color-alert-success-bg: color-mix(in srgb, #22c55e 20%, #101b28);
    --color-alert-success-border: color-mix(in srgb, #22c55e 35%, #2a3a52);
    --color-alert-success-text: #bbf7d0;
    --color-alert-info-bg: color-mix(in srgb, #3b82f6 22%, #101b28);
    --color-alert-info-border: color-mix(in srgb, #3b82f6 35%, #2a3a52);
    --color-alert-info-text: #bfdbfe;
    --color-alert-warning-bg: color-mix(in srgb, #f59e0b 22%, #101b28);
    --color-alert-warning-border: color-mix(in srgb, #f59e0b 35%, #2a3a52);
    --color-alert-warning-text: #fde68a;
    --color-alert-danger-bg: color-mix(in srgb, #ef4444 20%, #101b28);
    --color-alert-danger-border: color-mix(in srgb, #ef4444 34%, #2a3a52);
    --color-alert-danger-text: #fecaca;
    --color-ink-strong: #e7eef7;
    --color-ink-mid: #c8d7ea;
    --color-ink-soft: #9eb1c9;
    --color-outline-subtle: #8ea2bc;
    --color-outline-faint: #6a809c;
    --color-brown-accent: #d4a373;

    --color-user-editor-border: #5ea2ff;
    --color-user-editor-focus: rgba(94, 162, 255, 0.24);
    --color-user-editor-danger: #fecaca;
    --color-user-editor-danger-border: rgba(248, 113, 113, 0.4);
    --color-user-editor-danger-bg: rgba(248, 113, 113, 0.14);
    --color-user-annotation-label-fill: color-mix(in srgb, var(--color-surface-elevated) 92%, transparent);
    --color-user-annotation-label-fill-selected: color-mix(in srgb, var(--color-surface-elevated) 98%, transparent);
    --color-user-annotation-toolbar-bg: color-mix(in srgb, var(--color-surface-elevated) 96%, transparent);

    --color-swatch-border: #4d5f78;
    --color-info-box-text: #fcd34d;
    --color-control-rule: var(--line);

    --color-tooltip-bg: rgba(2, 6, 23, 0.94);
    --color-tooltip-text: #e7eef7;
    --color-tooltip-border: rgba(125, 211, 252, 0.35);
    --color-tooltip-swatch-border: rgba(231, 238, 247, 0.72);
    --shadow-tooltip: 0 8px 26px rgba(2, 6, 23, 0.46);
    --shadow-canvas-toolbar: 0 10px 24px rgba(2, 6, 23, 0.38);
    --shadow-user-editor: 0 8px 18px rgba(2, 6, 23, 0.36);
    --color-topology-overlay-active-fill: rgba(240, 228, 66, 0.3);
    --color-topology-overlay-active-stroke: rgba(253, 224, 71, 0.92);
    --color-topology-overlay-path-fill: rgba(230, 159, 0, 0.3);
    --color-topology-overlay-path-stroke: rgba(251, 191, 36, 0.92);
    --color-topology-overlay-spof-fill: rgba(204, 121, 167, 0.28);
    --color-topology-overlay-spof-stroke: rgba(244, 114, 182, 0.9);
    --color-topology-overlay-selected-fill: rgba(0, 114, 178, 0.28);
    --color-topology-overlay-selected-stroke: rgba(125, 211, 252, 0.95);
    --color-topology-legend-active: rgba(240, 228, 66, 0.58);
    --color-topology-legend-path: rgba(230, 159, 0, 0.55);
    --color-topology-legend-spof: rgba(204, 121, 167, 0.55);
    --color-topology-legend-selected: rgba(0, 114, 178, 0.55);

    --color-cross-panel-depth: #c8d7ea;
    --color-cross-panel-range: #9eb1c9;

    --color-interval-filter-label: var(--muted);
    --color-interval-chip-border: var(--line);
    --color-interval-chip-bg: color-mix(in srgb, var(--color-surface-muted) 88%, var(--color-surface-base));
    --color-interval-chip-text: var(--ink);
    --color-interval-chip-hover-bg: color-mix(in srgb, var(--color-surface-muted) 72%, var(--color-surface-base));
    --color-interval-chip-active-border: var(--color-accent-primary);
    --color-interval-chip-active-bg: color-mix(in srgb, var(--color-accent-primary) 22%, var(--color-surface-elevated));
    --color-interval-chip-active-text: var(--ink);
    --color-interval-table-wrap-bg: var(--color-surface-elevated);
    --color-interval-table-head-bg: color-mix(in srgb, var(--color-surface-muted) 92%, var(--color-surface-base));
    --color-interval-table-head-text: var(--ink);
    --color-interval-table-row-bg: color-mix(in srgb, var(--color-surface-elevated) 96%, var(--color-surface-base));
    --color-interval-table-row-even-bg: color-mix(in srgb, var(--color-surface-muted) 76%, var(--color-surface-base));
    --color-interval-table-row-hover-bg: color-mix(in srgb, var(--color-accent-primary) 14%, var(--color-surface-elevated));
    --color-interval-table-border: var(--line);
    --color-interval-table-border-soft: var(--line);
    --color-interval-table-sticky-bg: color-mix(in srgb, var(--color-surface-muted) 78%, var(--color-surface-base));
    --color-interval-reason-chip-bg: color-mix(in srgb, var(--color-surface-muted) 84%, var(--color-surface-base));
    --color-interval-reason-chip-text: var(--ink);
    --color-interval-reason-text: var(--ink);
    --color-interval-reason-fluid-bg: color-mix(in srgb, #38bdf8 28%, var(--color-surface-elevated));
    --color-interval-reason-fluid-text: #dbeafe;
    --color-interval-reason-cement-bg: color-mix(in srgb, #f59e0b 26%, var(--color-surface-elevated));
    --color-interval-reason-cement-text: #fde68a;
    --color-interval-reason-marker-bg: color-mix(in srgb, #ef4444 24%, var(--color-surface-elevated));
    --color-interval-reason-marker-text: #fecaca;
    --color-interval-reason-structure-bg: color-mix(in srgb, #22c55e 24%, var(--color-surface-elevated));
    --color-interval-reason-structure-text: #dcfce7;
    --color-interval-reason-model-bg: color-mix(in srgb, #8b5cf6 26%, var(--color-surface-elevated));
    --color-interval-reason-model-text: #ede9fe;
    --color-interval-reason-depth-bg: color-mix(in srgb, var(--color-surface-muted) 82%, var(--color-surface-base));
    --color-interval-reason-depth-text: var(--ink);

    --shadow-soft: 0 8px 20px rgba(2, 6, 23, 0.4);
    --shadow-md: 0 16px 34px rgba(2, 6, 23, 0.5);
    --shadow-alert-dark: 0 10px 26px rgba(2, 6, 23, 0.45);
    --overlay-shadow: 0 14px 32px rgba(2, 6, 23, 0.55);

    --bg: var(--color-surface-base);
    --bg-elev: var(--color-surface-elevated);
    --bg-panel: var(--color-surface-panel);
    --ink: var(--color-text-primary);
    --muted: var(--color-text-secondary);
    --line: var(--color-border-subtle);
    --shadow: var(--shadow-md);
}

/* Keep schematic rendering in light theme even when the app shell is dark. */
:root.app-dark .schematic-light-scope {
    --bg-panel: var(--color-surface-panel);
    --color-accent-primary: #0ea5b7;
    --color-accent-primary-soft: rgba(14, 165, 183, 0.14);
    --color-accent-primary-strong: #0a6f7b;
    --color-accent-secondary-soft: rgba(11, 126, 149, 0.1);
    --color-alert-base-text: #1f2937;
    --color-alert-close-hover: rgba(17, 24, 39, 0.08);
    --color-alert-danger-bg: #fef2f2;
    --color-alert-danger-border: #fecaca;
    --color-alert-danger-text: #991b1b;
    --color-alert-info-bg: #eff6ff;
    --color-alert-info-border: #bfdbfe;
    --color-alert-info-text: #1e3a8a;
    --color-alert-success-bg: #ecfdf5;
    --color-alert-success-border: #a7f3d0;
    --color-alert-success-text: #065f46;
    --color-alert-warning-bg: #fffbeb;
    --color-alert-warning-border: #fde68a;
    --color-alert-warning-text: #92400e;
    --color-border-subtle: #d7e2ef;
    --color-brown-accent: saddlebrown;
    --color-control-rule: #e5dccf;
    --color-cross-panel-depth: #374151;
    --color-cross-panel-range: #6b7280;
    --color-depth-axis-line: #b3a999;
    --color-depth-axis-text: #7a6f60;
    --color-info-box-text: #7c2d12;
    --color-ink-mid: #374151;
    --color-ink-soft: #4b5563;
    --color-ink-strong: #111827;
    --color-outline-subtle: #9ca3af;
    --color-surface-base: #eef3f8;
    --color-surface-elevated: #ffffff;
    --color-surface-muted: #f2f7fc;
    --color-surface-subtle: #f7fbff;
    --color-swatch-border: #cbd5f5;
    --color-table-computed-bg: #f3f6fa;
    --color-table-required-bg: #fff7ed;
    --color-text-primary: #0f1f35;
    --color-text-secondary: #58708f;
    --color-tooltip-bg: rgba(17, 24, 39, 0.96);
    --color-tooltip-border: rgba(148, 163, 184, 0.45);
    --color-tooltip-swatch-border: rgba(248, 250, 252, 0.7);
    --color-tooltip-text: #f8fafc;
    --color-user-annotation-label-fill: rgba(255, 255, 255, 0.88);
    --color-user-annotation-label-fill-selected: rgba(255, 255, 255, 0.95);
    --color-user-annotation-toolbar-bg: rgba(255, 255, 255, 0.97);
    --color-user-editor-border: #2f6fdd;
    --color-user-editor-danger: #b91c1c;
    --color-user-editor-danger-bg: rgba(185, 28, 28, 0.08);
    --color-user-editor-danger-border: rgba(185, 28, 28, 0.3);
    --color-user-editor-focus: rgba(47, 111, 221, 0.18);
    --ink: var(--color-text-primary);
    --line: var(--color-border-subtle);
    --muted: var(--color-text-secondary);
    --shadow: var(--shadow-md);
    --shadow-soft: 0 8px 20px rgba(15, 30, 60, 0.08);
    --shadow-tooltip: 0 8px 26px rgba(15, 23, 42, 0.35);
    --shadow-user-editor: 0 8px 18px rgba(15, 23, 42, 0.14);
}
